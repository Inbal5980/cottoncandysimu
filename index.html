<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×—×“×¨ ×¦××¨ ×”×’×¤×Ÿ ×”××ª×•×§ - ×ª×¨×’×•×œ ×—×©×‘×•×Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #FFB6D9 0%, #FFF0F5 50%, #E6F3FF 100%);
            direction: rtl;
            min-height: 100vh;
            overflow-x: hidden;
            overflow-y: auto; 
        }
        
        .container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            padding: 2vh 3vw;
            position: relative;
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* ×›×•×ª×¨×ª */
        .header {
            text-align: center;
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            z-index: 10;
        }
        
        .header h1 {
            color: #FF1493;
            font-size: clamp(1.5rem, 4vh, 2.5rem);
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(255,105,180,0.3);
        }
        
        .story {
            color: #555;
            font-size: clamp(1rem, 2.2vh, 1.2rem);
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
        }
        
        /* ××–×•×¨ ×”××›×•× ×•×ª */
        .machines-area {
            display: flex;
            justify-content: center;
            align-items: stretch;
            gap: 20px;
            margin: 10px 0;
            flex-wrap: wrap;
        }
        
        .machine {
            flex: 1;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 20px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            border: 3px solid #FFB6D9;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 5;
            transition: all 0.3s ease;
        }
        
        .machine-title {
            font-size: 1.3rem;
            color: #FF1493;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .machine-image {
            font-size: 3rem;
            margin: 5px 0;
        }

        /* ×›×¤×ª×•×¨×™ ×©×œ×™×˜×” ×œ××›×•× ×” */
        .machine-controls {
            display: flex;
            gap: 15px;
            margin-top: 15px;
            align-items: center;
        }

        .control-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.2s;
            background: #fff;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .control-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .control-btn:active {
            transform: scale(0.95);
        }

        .control-btn.plus {
            color: #28a745;
            border: 2px solid #28a745;
            background-color: #f0fff4;
        }

        .control-btn.minus {
            color: #dc3545;
            border: 2px solid #dc3545;
            background-color: #fff5f5;
        }
        
        /* ××–×•×¨ ×¢× × ×™ ×¦××¨ ×’×¤×Ÿ */
        .clouds-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-content: flex-start;
            gap: 5px;
            min-height: 120px;
            width: 100%;
            padding: 10px;
            background: rgba(230, 243, 255, 0.5);
            border-radius: 15px;
            margin-top: 10px;
        }
        
        .cloud {
            font-size: 1.8rem;
            animation: float 3s ease-in-out infinite;
            user-select: none;
            transition: all 0.3s;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        
        .count-display {
            font-size: 1.2rem;
            color: #FF1493;
            font-weight: bold;
            margin-top: 15px;
            background: white;
            padding: 8px 20px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            min-width: 120px;
            text-align: center;
        }
        
        /* ××–×•×¨ ×”×ª×©×•×‘×” */
        .answer-area {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
            z-index: 10;
        }
        
        .question {
            font-size: clamp(1.1rem, 2.5vh, 1.5rem);
            color: #333;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .calculation-area {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
            font-size: 1.5rem;
        }
        
        .number-box {
            background: #FFE4F0;
            padding: 10px 20px;
            border-radius: 15px;
            font-weight: bold;
            color: #FF1493;
            min-width: 60px;
            text-align: center;
        }
        
        .operator {
            font-size: 1.5rem;
            color: #FF69B4;
            font-weight: bold;
        }
        
        input[type="number"] {
            font-size: 1.5rem;
            padding: 10px;
            border: 3px solid #FFB6D9;
            border-radius: 15px;
            text-align: center;
            width: 100px;
            font-weight: bold;
            color: #FF1493;
            outline: none;
            transition: border-color 0.3s;
        }

        input[type="number"]:focus {
            border-color: #FF1493;
        }

        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        
        .check-button {
            background: linear-gradient(135deg, #FF1493 0%, #FF69B4 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 20px;
            box-shadow: 0 4px 15px rgba(255,20,147,0.3);
            transition: all 0.3s;
        }
        
        .check-button:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(255,20,147,0.4);
        }
        
        .check-button:active {
            transform: scale(0.98);
        }
        
        .feedback {
            font-size: 1.2rem;
            margin-top: 20px;
            padding: 15px;
            border-radius: 15px;
            font-weight: bold;
            display: none;
            animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        @keyframes popIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .feedback.correct {
            background: #D4EDDA;
            color: #155724;
            border: 2px solid #C3E6CB;
            display: block;
        }
        
        .feedback.incorrect {
            background: #F8D7DA;
            color: #721C24;
            border: 2px solid #F5C6CB;
            display: block;
        }
        
        /* ××œ×× ×˜×™× ××¢×•×¤×¤×™× ×‘×¨×§×¢ */
        .floating-candy {
            position: fixed;
            font-size: 3rem;
            animation: floatRandom 15s infinite linear;
            opacity: 0.6;
            pointer-events: none;
            z-index: 1;
        }
        
        @keyframes floatRandom {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(10vw, -10vh) rotate(90deg); }
            50% { transform: translate(-5vw, -20vh) rotate(180deg); }
            75% { transform: translate(8vw, -10vh) rotate(270deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }

        @media (max-width: 768px) {
            .machines-area {
                flex-direction: column;
            }
            .machine {
                width: 100%;
            }
            .header h1 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ×××ª×§×™× ××¢×•×¤×¤×™× ×‘×¨×§×¢ -->
        <div class="floating-candy" style="top: 10%; right: 10%; animation-delay: 0s;">ğŸ¬</div>
        <div class="floating-candy" style="top: 20%; left: 15%; animation-delay: 3s;">ğŸ­</div>
        <div class="floating-candy" style="top: 70%; right: 20%; animation-delay: 6s;">ğŸ¬</div>
        <div class="floating-candy" style="top: 60%; left: 10%; animation-delay: 9s;">ğŸ­</div>
        
        <!-- ×›×•×ª×¨×ª -->
        <div class="header">
            <h1>ğŸ­ ×—Ö²×“Ö·×¨ ×¦Ö¶×Ö¶×¨ ×”Ö·×’Ö¶Ö¼×¤Ö¶×Ÿ ×”Ö·×Ö¸Ö¼×ª×•Ö¹×§ ğŸ­</h1>
            <p class="story">
                ×‘Ö·Ö¼×—Ö²×“Ö·×¨ ×¦Ö¶×Ö¶×¨ ×”Ö·×’Ö¶Ö¼×¤Ö¶×Ÿ ×”Ö·×Ö¸Ö¼×ª×•Ö¹×§ ×™Öµ×©× ×Ö´×¡Ö°×¤Ö·Ö¼×¨ ×Ö°×›×•Ö¹× ×•Ö¹×ª ×©Ö¶××Ö°Ö¼×›Ö´×™× ×•Ö¹×ª ×Ö¶×ª ×¦Ö¶×Ö¶×¨ ×”Ö·×’Ö¶Ö¼×¤Ö¶×Ÿ ×”Ö·×Ö¸Ö¼×ª×•Ö¹×§.<br>
                ×”Ö·×Ö°Ö¼×›×•Ö¹× Ö¸×” ×”Ö·×™Ö°Ö¼×Ö¸× Ö´×™×ª ×™Ö´×¦Ö°Ö¼×¨Ö¸×” <strong>23</strong> ×¢Ö·× Ö°× Öµ×™ ×¦Ö¶×Ö¶×¨ ×’Ö¶Ö¼×¤Ö¶×Ÿ ×Ö¸×ª×•Ö¹×§ - <strong>5 ×™×•Ö¹×ªÖµ×¨</strong> ×Ö´×Ö´Ö¼×¡Ö°×¤Ö·Ö¼×¨ ×”Ö¸×¢Ö²× Ö¸× Ö´×™× ×©Ö¶××™Ö´Ö¼×¦Ö°Ö¼×¨Ö¸×” ×”Ö·×Ö°Ö¼×›×•Ö¹× Ö¸×” ×”Ö·×©Ö°Ö¼×‚×Ö¸××œÖ´×™×ª.
            </p>
        </div>
        
        <!-- ××–×•×¨ ×”××›×•× ×•×ª -->
        <div class="machines-area">
            <!-- ××›×•× ×” ×™×× ×™×ª -->
            <div class="machine">
                <div class="machine-title">âš™ï¸ ×”Ö·×Ö°Ö¼×›×•Ö¹× Ö¸×” ×”Ö·×™Ö°Ö¼×Ö¸× Ö´×™×ª</div>
                <div class="machine-image">ğŸ­</div>
                <div class="clouds-container" id="rightClouds"></div>
                <div class="count-display">23 ×¢Ö²× Ö¸× Ö´×™× â˜ï¸</div>
            </div>
            
            <!-- ××›×•× ×” ×©×××œ×™×ª -->
            <div class="machine">
                <div class="machine-title">âš™ï¸ ×”Ö·×Ö°Ö¼×›×•Ö¹× Ö¸×” ×”Ö·×©Ö°Ö¼×‚×Ö¸××œÖ´×™×ª</div>
                <div class="machine-image">ğŸ­</div>
                <div class="clouds-container" id="leftClouds"></div>
                <div class="count-display" id="leftCount">0 ×¢Ö²× Ö¸× Ö´×™× â˜ï¸</div>
                
                <!-- ×›×¤×ª×•×¨×™ ×©×œ×™×˜×” -->
                <div class="machine-controls">
                    <button class="control-btn minus" onclick="adjustLeftClouds(-1)" aria-label="×”×•×¨×“ ×¢× ×Ÿ">â–</button>
                    <button class="control-btn plus" onclick="adjustLeftClouds(1)" aria-label="×”×•×¡×£ ×¢× ×Ÿ">â•</button>
                </div>
            </div>
        </div>
        
        <!-- ××–×•×¨ ×”×ª×©×•×‘×” -->
        <div class="answer-area">
            <div class="question">
                ğŸ’­ ×›Ö·Ö¼×Ö¸Ö¼×” ×¢Ö·× Ö°× Öµ×™ ×¦Ö¶×Ö¶×¨ ×’Ö¶Ö¼×¤Ö¶×Ÿ ×Ö¸×ª×•Ö¹×§ ×™Ö´×¦Ö°Ö¼×¨Ö¸×” ×”Ö·×Ö°Ö¼×›×•Ö¹× Ö¸×” ×”Ö·×©Ö°Ö¼×‚×Ö¸××œÖ´×™×ª?
            </div>
            
            <div class="calculation-area">
                <div class="number-box">23</div>
                <div class="operator">â–</div>
                <div class="number-box">5</div>
                <div class="operator">=</div>
                <input type="number" id="leftAnswer" placeholder="?" min="0" max="100">
            </div>
            
            <div class="question" style="margin-top: 30px;">
                ğŸ¯ ×›Ö·Ö¼×Ö¸Ö¼×” ×¢Ö²× Ö¸× Ö´×™× ×™Ö»×¦Ö°Ö¼×¨×•Ö¼ ×‘Ö°Ö¼×¡Ö·×šÖ° ×”Ö·×›Ö¹Ö¼×œ ×‘Ö´Ö¼×©Ö°××ªÖµÖ¼×™ ×”Ö·×Ö°Ö¼×›×•Ö¹× ×•Ö¹×ª ×™Ö·×—Ö·×“?
            </div>
            
            <div class="calculation-area">
                <div class="number-box">23</div>
                <div class="operator">â•</div>
                <input type="number" id="totalAnswer" placeholder="?" min="0" max="100" readonly style="background-color: #f0f0f0;">
                <div class="operator">=</div>
                <input type="number" id="finalAnswer" placeholder="?" min="0" max="100" disabled>
            </div>
            
            <button class="check-button" onclick="checkAnswer()">×‘Ö´Ö¼×“Ö°×§×•Ö¼ ×Ö¶×ª ×”Ö·×ªÖ°Ö¼×©××•Ö¼×‘Ö¸×”! âœ¨</button>
            
            <div class="feedback" id="feedback"></div>
        </div>
    </div>
    
    <script>
        // ×™×¦×™×¨×ª ×¢× × ×™ ×¦××¨ ×’×¤×Ÿ ×œ××›×•× ×” ×™×× ×™×ª
        function createClouds(containerId, count) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            for (let i = 0; i < count; i++) {
                const cloud = document.createElement('div');
                cloud.className = 'cloud';
                cloud.textContent = 'â˜ï¸';
                cloud.style.animationDelay = `${Math.random() * 2}s`;
                container.appendChild(cloud);
            }
        }
        
        // ××ª×—×•×œ ××›×•× ×” ×™×× ×™×ª
        createClouds('rightClouds', 23);
        
        const correctLeftAmount = 18;
        
        // ×¤×•× ×§×¦×™×” ×œ×©×™× ×•×™ ××¡×¤×¨ ×”×¢× × ×™× ×‘×œ×—×™×¦×ª ×›×¤×ª×•×¨
        function adjustLeftClouds(delta) {
            const input = document.getElementById('leftAnswer');
            let currentValue = parseInt(input.value) || 0;
            let newValue = currentValue + delta;
            
            // ×× ×™×¢×ª ××¡×¤×¨×™× ×©×œ×™×œ×™×™×
            if (newValue < 0) newValue = 0;
            
            input.value = newValue;
            updateGameState(newValue);
        }

        // ×¤×•× ×§×¦×™×” ×¨××©×™×ª ×œ×¢×“×›×•×Ÿ ×”××¦×‘ (× ×§×¨××ª ××”×›×¤×ª×•×¨×™× ×•××”××™× ×¤×•×˜)
        function updateGameState(value) {
            // ×¢×“×›×•×Ÿ ×ª×¦×•×’×ª ×”×¢× × ×™×
            createClouds('leftClouds', value);
            
            // ×¢×“×›×•×Ÿ ×”×˜×§×¡×˜ ×‘××›×•× ×”
            document.getElementById('leftCount').textContent = `${value} ×¢Ö²× Ö¸× Ö´×™× â˜ï¸`;
            
            const totalInput = document.getElementById('totalAnswer');
            const finalInput = document.getElementById('finalAnswer');
            const leftInput = document.getElementById('leftAnswer');
            
            // ×‘×“×™×§×ª ×”×ª×©×•×‘×” ×‘×–××Ÿ ×××ª
            if (value === correctLeftAmount) {
                // ×ª×©×•×‘×” × ×›×•× ×”
                totalInput.value = correctLeftAmount;
                totalInput.style.backgroundColor = '#D4EDDA'; // ×™×¨×•×§ ×‘×”×™×¨
                
                finalInput.disabled = false;
                
                leftInput.style.background = '#D4EDDA';
                leftInput.style.borderColor = '#28A745';
                
                // ×”×¡×ª×¨×ª ××©×•×‘ ×©×’×™××” ×× ×§×™×™×
                document.getElementById('feedback').style.display = 'none';
            } else {
                // ×ª×©×•×‘×” ×œ× × ×›×•× ×” / ×¢×“×™×™×Ÿ ××—×©×‘×™×
                if (leftInput.value !== '') {
                    leftInput.style.background = '#FFE4F0';
                    leftInput.style.borderColor = '#FFB6D9';
                } else {
                    leftInput.style.background = 'white';
                }
                
                // ××™×¤×•×¡ ×©×œ×‘ ×‘'
                totalInput.value = '';
                totalInput.style.backgroundColor = '#f0f0f0';
                finalInput.disabled = true;
                finalInput.value = '';
            }
        }

        // ×”××–× ×” ×œ×§×œ×˜ ×™×“× ×™ ×‘×©×“×” ×”×˜×§×¡×˜
        document.getElementById('leftAnswer').addEventListener('input', function() {
            const val = parseInt(this.value);
            if (!isNaN(val)) {
                updateGameState(val);
            } else {
                updateGameState(0);
            }
        });
        
        function checkAnswer() {
            const leftAnswer = parseInt(document.getElementById('leftAnswer').value);
            const finalAnswer = parseInt(document.getElementById('finalAnswer').value);
            const feedback = document.getElementById('feedback');
            
            // ×‘×“×™×§×ª ×©×œ×‘ ×'
            if (isNaN(leftAnswer) || leftAnswer !== correctLeftAmount) {
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = 'ğŸ˜Š ×ªÖ·Ö¼×—Ö°×©Ö°××‘×•Ö¼ ×©××•Ö¼×‘ ×¢Ö·×œ ×”Ö·×Ö°Ö¼×›×•Ö¹× Ö¸×” ×”Ö·×©Ö°Ö¼×‚×Ö¸××œÖ´×™×ª:<br>×”Ö·×Ö°Ö¼×›×•Ö¹× Ö¸×” ×”Ö·×™Ö°Ö¼×Ö¸× Ö´×™×ª ×™Ö´×¦Ö°Ö¼×¨Ö¸×” 23 ×¢Ö²× Ö¸× Ö´×™×, ×©Ö¶××–Ö¶Ö¼×” 5 <strong>×™×•Ö¹×ªÖµ×¨</strong> ×Öµ×”Ö·×Ö°Ö¼×›×•Ö¹× Ö¸×” ×”Ö·×©Ö°Ö¼×‚×Ö¸××œÖ´×™×ª.<br>× Ö·×¡Ö¼×•Ö¼ ×œÖ°×”Ö´×©Ö°××ªÖ·Ö¼×ÖµÖ¼×©× ×‘Ö°Ö¼×›Ö·×¤Ö°×ªÖ¼×•Ö¹×¨Öµ×™ ×”Ö·×¤Ö°Ö¼×œ×•Ö¼×¡ ×•Ö°×”Ö·×Ö´Ö¼×™× ×•Ö¼×¡ ×›Ö°Ö¼×“Öµ×™ ×œÖ°×”Ö·×’Ö´Ö¼×™×¢Ö· ×œÖ·×ªÖ°Ö¼×©××•Ö¼×‘Ö¸×”! ğŸ¤”';
                return;
            }
            
            // ×‘×“×™×§×ª ×©×œ×‘ ×‘'
            if (isNaN(finalAnswer) || finalAnswer !== 41) {
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = 'ğŸ˜Š ×›Ö´Ö¼×Ö°×¢Ö·×˜! ×—Öµ×œÖ¶×§ ×¨Ö´××©××•Ö¹×Ÿ × Ö¸×›×•Ö¹×Ÿ.<br>×¢Ö·×›Ö°×©Ö¸××™×• ×—Ö·×‘Ö°Ö¼×¨×•Ö¼ ×Ö¶×ª ×©Ö°×× Öµ×™ ×”Ö·×Ö´Ö¼×¡Ö°×¤Ö¸Ö¼×¨Ö´×™×: 23 + 18 = ? ğŸ§®';
                return;
            }
            
            // ×”×¦×œ×—×” ××œ××”
            feedback.className = 'feedback correct';
            feedback.innerHTML = 'ğŸ‰ ×Ö°×¢×•Ö¹×œÖ¶×”! ×›Ö¸Ö¼×œ ×”Ö·×›Ö¸Ö¼×‘×•Ö¹×“!<br>×”Ö·×Ö°Ö¼×›×•Ö¹× Ö¸×” ×”Ö·×©Ö°Ö¼×‚×Ö¸××œÖ´×™×ª ×™Ö´×¦Ö°Ö¼×¨Ö¸×” 18 ×¢Ö²× Ö¸× Ö´×™×,<br>×•Ö¼×‘Ö°×¡Ö·×šÖ° ×”Ö·×›Ö¹Ö¼×œ ×™Ö»×¦Ö°Ö¼×¨×•Ö¼ 41 ×¢Ö·× Ö°× Öµ×™ ×¦Ö¶×Ö¶×¨ ×’Ö¶Ö¼×¤Ö¶×Ÿ ×Ö¸×ª×•Ö¹×§! ğŸ­â˜ï¸';
            
            celebrate();
        }
        
        function celebrate() {
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    createFloatingEmoji();
                }, i * 150);
            }
        }
        
        function createFloatingEmoji() {
            const emojis = ['ğŸ‰', 'â­', 'ğŸ­', 'â˜ï¸', 'âœ¨', 'ğŸ¬'];
            const emoji = document.createElement('div');
            emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
            emoji.style.position = 'fixed';
            emoji.style.left = Math.random() * 100 + 'vw';
            emoji.style.top = '100vh';
            emoji.style.fontSize = (Math.random() * 3 + 2) + 'vh';
            emoji.style.transition = 'all ' + (Math.random() * 2 + 1.5) + 's ease-out';
            emoji.style.pointerEvents = 'none';
            emoji.style.zIndex = '1000';
            document.body.appendChild(emoji);
            
            setTimeout(() => {
                emoji.style.top = '-10vh';
                emoji.style.opacity = '0';
                emoji.style.transform = `rotate(${Math.random() * 360}deg)`;
            }, 50);
            
            setTimeout(() => {
                emoji.remove();
            }, 4000);
        }
    </script>
</body>
</html>
